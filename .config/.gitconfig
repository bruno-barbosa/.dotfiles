# Git Configuration
# User credentials in .gitconfig.user (included at bottom)

[user]
  name = Bruno Barbosa
  email = bruno.barbosa@minted.com

[init]
  defaultBranch = main

[core]
  editor = vim
  autocrlf = false
  excludesfile = ~/.dotfiles/.config/.gitignore

[pull]
  rebase = true

[push]
  default = upstream

[branch]
  autosetupmerge = true

[merge]
  tool = mvimdiff
  summary = true
  verbosity = 1

[mergetool]
  prompt = false

[mergetool "mvimdiff"]
  cmd = "mvim -c 'Gdiff' $MERGED"
  keepbackup = false

[diff]
  mnemonicprefix = true
  algorithm = patience

[apply]
  whitespace = nowarn

[advice]
  statusHints = false

[rerere]
  enabled = true

[format]
  pretty = format:%C(blue)%ad%Creset %C(yellow)%h%C(green)%d%Creset %C(blue)%s %C(magenta) [%an]%Creset

[color]
  ui = true

[color "branch"]
  current = yellow reverse
  local = yellow
  remote = green

[color "diff"]
  meta = yellow bold
  frag = magenta bold
  old = red
  new = green

[alias]
  # Basic commands
  a = add
  b = branch -v
  c = commit -m
  ca = commit -am
  co = checkout
  d = diff
  dc = diff --cached
  l = log --graph --date=short
  pl = pull
  ps = push
  s = status
  t = tag -n

  # Advanced operations
  amend = commit --amend
  chunkyadd = add --patch
  cp = cherry-pick -x
  filelog = log -u
  last = diff HEAD^
  mt = mergetool
  nb = checkout -b
  r = remote -v
  rc = rebase --continue
  rs = rebase --skip
  uncommit = reset --soft HEAD^
  unstage = reset HEAD

  # Stash operations
  sa = stash apply
  sd = stash drop
  sl = stash list
  ss = stash

  # Log formatting
  changes = log --pretty=format:\"%h %cr %cn %Cgreen%s%Creset\" --name-status
  short = log --pretty=format:\"%h %cr %cn %Cgreen%s%Creset\"
  simple = log --pretty=format:\" * %s\"

  # Utilities
  recent-branches = !git for-each-ref --count=15 --sort=-committerdate refs/heads/ --format='%(refname:short)'
  snapshot = !git stash save "snapshot: $(date)" && git stash apply "stash@{0}"
  snapshots = !git stash list --grep snapshot

[include]
  path = .gitconfig.user
